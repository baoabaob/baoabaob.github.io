<head>
    <!-- for optimal display on high DPI devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/core/index.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/gallery-plugin/index.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/virtual-tour-plugin/index.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/map-plugin/index.min.css" />
</head>
<script src="https://cdn.jsdelivr.net/npm/three/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/core/index.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/gallery-plugin/index.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/gyroscope-plugin/index.js" crossorigin></script>
<script src="https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/stereo-plugin/index.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photo-sphere-viewer-lensflare-plugin/dist/index.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/virtual-tour-plugin/index.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/map-plugin/index.min.js"></script>
<!-- the viewer container must have a defined size -->
<body style="width: 100%;margin:0px;">
    <div id="viewer" style="width: 100vw; height: 100vh;"></div>
</body>
<script>
const baseUrl = 'https://photo-sphere-viewer-data.netlify.app/assets/';
const viewer = new PhotoSphereViewer.Viewer({
    container: 'viewer',
    panorama: './img/playing/赵志国作品集、新宾满族剪纸.jpg',
    loadingImg: baseUrl + 'loader.gif',
    touchmoveTwoFingers: true,
    mousewheelCtrlKey: false,
    plugins: [
        [PhotoSphereViewer.GalleryPlugin, {
            visibleOnLoad: false,
        }],
        PhotoSphereViewer.GyroscopePlugin,
        PhotoSphereViewer.StereoPlugin,
        [PhotoSphereViewer.MapPlugin,{
            imageUrl:'./img/playing/map.png',
            center: { x: 250, y: 250 },
            rotation: '0deg',
            defaultZoom: 20,
            size:'250'
        }],
        PhotoSphereViewer.VirtualTourPlugin,
        /* [PhotoSphereViewerLensflarePlugin,{
            lensflares:[
                {
                    id:'sun',
                    position:{yaw:'167.5deg',pitch:'8deg'},
                }
            ]
        }] */
    ],
});

const virtualTour = viewer.getPlugin(PhotoSphereViewer.VirtualTourPlugin);
const map = viewer.getPlugin(PhotoSphereViewer.MapPlugin);

virtualTour.setNodes([
    {
        id:'1',
        panorama:'./img/playing/赵志国作品集、新宾满族剪纸.jpg',
        thumbnail:'./img/playing/赵志国作品集、新宾满族剪纸.jpg',
        name:'赵志国作品集',
        links:[{nodeId:'2',position:{textureX:1500,textureY:3000}}],
        map: { x: 150, y: 310 },
    },
    {
        id:'2',
        panorama:'./img/playing/赵志国介绍.jpg',
        thumbnail:'./img/playing/赵志国介绍.jpg',
        name:'赵志国介绍',
        links:[],
        map: { x: 150, y: 310 },
    }
])

</script>